

    public EdiController() {
        server = Resource.getValue(Resource.FTP_Server);
        user = Resource.getValue(Resource.FTP_User);
        password = Resource.getValue(Resource.FTP_Password);
        dir = Resource.getValue(Resource.FTP_Directory);
        fname = Resource.getValue(Resource.FTP_FileName);
    }


    public String getTermFTPDirectory() throws Exception {
        //File file = new File(fname);
        //if (file.exists()) file.delete();

        OAFtpClient ftp = new OAFtpClient();
        ftp.connect(server);
        ftp.login(user, password);
        String s = ftp.getDirectory(dir);
        ftp.quit();

        LOG.fine(s);
        
        return s;
    }




        File file = new File("temp.txt");
        getSalesOrderEDIProcessor().save(file, order);
        
        if (saveAsFname == null) saveAsFname = this.fname;
        
        LOG.fine("Sending file "+file.getName()+" as "+saveAsFname);
        
        OAFtpClient ftp = new OAFtpClient();
        ftp.connect(server);
        ftp.login(user, password);
        ftp.setAscii();

        if (saveAsFname == null || saveAsFname.length() == 0) saveAsFname = fname;        
        ftp.put(dir, saveAsFname, file);
        ftp.quit();
        return "Sales Order " + order.getId() +" saved as " + saveAsFname + " on ftp server " + server;

