
recursive OAObject callback


        OAObjectCacheDelegate.callback(Order.class, new OAObjectRecurseInterface() {
                @Override
                public void updateObject(Object obj) {
                    Order order = (Order) obj;
                    String s = order.getNotes();
                    if (s == null || s.length() == 0) return;
                    Hub h = order.getOrderNotes();
                    if (h.getSize() > 0) return;
                    OrderNote note = new OrderNote();
                    note.setNote(s);
                    h.add(note);
                }
            }
        );

        
        
        OAObjectCacheDelegate.callback(Order.class, 
            new OAObjectRecurseInterface() {
                int cnt;
                String find = "Shipping Instructions";
                String find2 = OAString.NL+"Note: Please see Shipping Instructions";
                @Override
                public void updateObject(Object obj) {
                    Order order = (Order) obj;
                    String s = order.getNotes();
                    if (s == null) return;
                    int pos = s.indexOf(find);
                    if (pos < 0) return;
                    pos = s.indexOf(find2);
                    System.out.println((++cnt)+" changed notes, was: "+s);                  
                    if (pos >= 0) {
                        s = s.substring(0, pos);
                        order.setNotes(s);
                        return;
                    }
                    order.setNotes(null);
                }
            }
        );
        
        
        
        