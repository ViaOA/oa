

    enableEvents(AWTEvent.MOUSE_EVENT_MASK | AWTEvent.MOUSE_MOTION_EVENT_MASK);


    public void processMouseEvent(MouseEvent e) {
        super.processMouseEvent(e);
        ptLastMouse = e.getPoint();
        if (template == null) return;

        if (e.getID() ==  MouseEvent.MOUSE_RELEASED) {
            if (!e.isPopupTrigger()) return;
        }
        else if (e.getID() ==  MouseEvent.MOUSE_PRESSED) {
            if ((e.getModifiers() & Event.META_MASK) !=0) {
                if (!e.isPopupTrigger()) return;  // on Windows, right mouse button doesnt "show up" until mouseReleased
            }
        }
        else return;

        Location loc = getLocation(ptLastMouse.x, ptLastMouse.y);
        if (loc == null) return;

        if (e.isPopupTrigger()) {
            if (bAutoSelect) return;
            if (loc instanceof TemplateRowLocation) callPopupMenu(ptLastMouse, ((TemplateRowLocation) loc).tr );
            else if (loc instanceof SectionLocation) callPopupMenu(ptLastMouse, ((SectionLocation) loc).sec );
            else if (loc instanceof SectionItemLocation) callPopupMenu(ptLastMouse, ((SectionItemLocation) loc).si );
        }






    protected @Override void processMouseEvent(MouseEvent e) {

        else if (e.getID() == MouseEvent.MOUSE_RELEASED) {
            if (e.isPopupTrigger()) {
