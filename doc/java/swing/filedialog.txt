


        JButton cmd = new JButton("Choose ...");
        new ButtonController(modelApp.getModelHub(), cmd);
        OAButton.setup(cmd);
        cmd.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                Model md = (Model) modelApp.getModelHub().getAO();
                if (md == null) return;
                String s = md.getRootDirectory();
                if (s == null || s.length() == 0) s = ".";
                s = OAString.convertFileName(s);
                getFileChooser().setCurrentDirectory(new File(s));
                int i = getFileChooser().showSaveDialog(null);
                if (i != JFileChooser.APPROVE_OPTION) return;
                File file = getFileChooser().getSelectedFile();
                if (file == null) return;
                if (!file.isDirectory()) return;
                md.setRootDirectory(file.getPath());
            }
        });

    ...
        fc.setSelectedFile(new File(fileName));



    private JFileChooser fileChooser;
    public JFileChooser getFileChooser() {
        if (fileChooser == null) {
            fileChooser = new JFileChooser(".");
            fileChooser.setDialogTitle("Root Directory");
            fileChooser.setDialogType(JFileChooser.OPEN_DIALOG);
            fileChooser.setFileHidingEnabled(false);
            // fileChooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);
            fileChooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
            fileChooser.setMultiSelectionEnabled(false);
            fileChooser.setAcceptAllFileFilterUsed(false);
        }
        return fileChooser;
    }

    
    
    