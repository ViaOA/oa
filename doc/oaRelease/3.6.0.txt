

OA 3.6.0 release

** todo **
    method to make cached objects "dirty"
        from DS change outside of jvm
    stack trace from Kevin
        sort with seq property caused large stacktrace
        
        
    

20141202 Hub size reduction and li.many/hub caching

Hub size reduction
    using extension "x" objects
        datax, datauniquex
        
getDetail improvements
    ClientGetDetail.java server side, one per client/session.
    tracking guid of objects on server
    sending back sibling as hashmap<guid, value>
    max size set to 5500

Caching Hubs (many links)
    OAMany.cacheSize
    10x on server
    referenceable functionality
        checks on changs to obj or hub
        OAObjectPropertyDelegate.setReferenceable(obj, b)
        HubDelegate.setReferenceable
        will make sure that a change wont be GCd
            changes oaObj.prop from/to weakRef
            recurses to parents
        after save, it will then use weakRef for obj.prop[] for cached hubs                    
        OAObjs generated without a property in the object
            getXxxHub always goes to oaObj.getReferenceHub
            stores hub in array in OALinkInfo for MRU list
    RemoteSyncImpl
        read from DB if not in cache
    finalize on client sends guid[] array to remove from serverSide cache, clientGetDetail guid tree

    
20141204 hub caching for LinkInfo.many with cacheSize>0
    server uses cacheSize*10
    use weakref in oaObj.prop for Hub that are cached in LinkInfo.cache
        unless server, and server DS does not have storage support
            server needs to be able to re-get any GCd hub, etc.
            

serializing
    OAObjectSerializeDelegate
        _readObject 
        _readResolve 
            call cacheHub to see if it should store in props[] as weakRef
            if dup then need only cache if it is used by existing obj

        _writeObject
        _writeProperties
            dont use weakRef wrapper

    OASyncClient
            HubSerializerDelegate._readResolve will set it to weakRef if needed

caching hub
    OAObjectInfoDelegeate    
        cacheHub
            if cacheSize>0 && (client || server&&supportsStorage)



getting Hub as a property of oaObj
    OAObjectReflectDelegate
        _getReferenceHub
            call cacheHub to see if weakRef is needed


making referenceable
    OAObjectProeprtyDelegate.setReferenceable
        server side only        
    HubDelegate.setReferenceable
        server side only        

20141210
    OAConsole
    OAWaitDialog
        added OAConsole flag
    

20141214 Sun
    Improve oa locking
        added locking in from setAO
            HubAODelegate
        removed sync blocks when using OAThreadLocalDelegate.lock
        dont lock if isLoading/fetching
            HubAddRemoveDeleget
            HubDataDelegate
    OAConsole add width param        
    oabldr code gen, added console to OAWaitDialog
        MethodCode.java
            adds to ButtonController.setConoleProperty

qqqqqqqqqqqqqqqq Todo qqqqqqqqqqqqqqqq
qqqqqqqqqqqqqqqq Todo qqqqqqqqqqqqqqqq








